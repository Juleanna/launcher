# Веб‑контент: настройка и источники

Модуль `web_content_manager.py` позволяет отображать новости и материалы внутри лаунчера. Поддерживаются три типа источников: JSON, RSS (XML) и HTML‑страницы.

## Включение и автообновление
- В `launcher_config.ini`:
  - `[WebContent] auto_refresh = 1` — включить автообновление
  - `[WebContent] refresh_interval = 300` — период обновления в секундах

## Определение источников
Каждый источник задаётся секцией `[NewsSourceN]` (N — номер, 1..n):
- `name` — имя источника, отображается в UI
- `url` — адрес источника
- `type` — `json` | `rss` | `html`
- `enabled` — `1`/`0`

Пример:
```
[NewsSource1]
name = Новости проекта
url = https://example.com/api/news.json
type = json
enabled = 1

[NewsSource2]
name = Обновления
url = https://example.com/rss/updates.xml
type = rss
enabled = 1
```

## Формат JSON
Поддерживается как “JSON Feed” (поле `items`), так и произвольные структуры вроде `posts`. Минимально рекомендуемые поля:
- `title` — заголовок
- `content_html` или `content_text` — содержимое
- `date` (`date_published`) — дата
- `url` — ссылка на материал
- `author` — автор (опционально)

Пример JSON Feed (усечённо):
```json
{
  "version": "https://jsonfeed.org/version/1",
  "title": "News",
  "items": [
    {
      "id": "123",
      "title": "Запуск сервера",
      "content_html": "<p>Мы запустились!</p>",
      "date_published": "2025-08-09T12:00:00+00:00",
      "url": "https://example.com/news/123",
      "author": {"name": "Team"}
    }
  ]
}
```

## RSS/Atom (XML)
Укажите `type = rss` и ссылку на RSS/Atom‑ленту. Менеджер извлекает `title`, `summary/content`, `link`, `published` и отображает в UI.

## HTML‑страницы
При `type = html` менеджер скачивает HTML по `url` и преобразует его в читаемый текст с помощью `html2text`.
- Ссылки и изображения сохраняются (при возможности).
- Для тяжёлых страниц рекомендуем публиковать облегчённые версии.

## Настройки сети и стабильность
- Таймауты: сетевые вызовы используют разумные таймауты; при ошибках источник помечается ошибкой, но лаунчер продолжает работу.
- User‑Agent: задаётся в модуле при запросах (`Mozilla/...`).

## Рекомендации
- Для максимальной стабильности используйте JSON‑источник с предсказуемой схемой.
- Добавляйте не более 10–15 записей на источник, чтобы не перегружать UI.
- Следите за кодировками (UTF‑8) и корректными заголовками `Content‑Type`.

